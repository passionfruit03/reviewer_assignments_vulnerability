import json

class AttackDataset:
    def __init__(self, attacks_path, start=0, end=None):
        self.path = attacks_path
        self.start = start
        self.end = end

    def __iter__(self):
        with open(self.path, 'r') as f:
            for i, line in enumerate(f):
                if (i < self.start):
                    continue
                if (self.end is not None and i >= self.end):
                    break
                attack_instance = json.loads(line)
                yield i, attack_instance
